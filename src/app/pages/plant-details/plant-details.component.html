<swiper-container
    direction="vertical"
    free-mode="true"
    sticky="true"
    parallax="true">
    <swiper-slide
        class="images-slide"
        data-swiper-parallax="25%"
        data-swiper-parallax-opacity="0">
        <swiper-container
            effect="coverflow"
            pagination="true"
            pagination-type="bullets"
            pagination-dynamic-bullets="true"
            pagination-dynamic-main-bullets="3">
            @for (image of plant.images; track image) {
                <swiper-slide
                    lazy="true"
                    class="image-slide">
                    <span class="banner">{{ plant.scientificName }}</span>
                    <img
                        class="plant-image"
                        [src]="image.url"
                        loading="lazy"
                        [alt]="image.attribution" />
                    <span class="banner">{{ image.license }}</span>
                </swiper-slide>
            }
        </swiper-container>
    </swiper-slide>
    <swiper-slide class="plant-info-container">
        <mat-tab-group>
            <mat-tab label="Taxonomy">
                <ng-container
                    [ngTemplateOutlet]="field"
                    [ngTemplateOutletContext]="{ data: plant.scientificName, label: 'scientific name' }" />
                <ng-container
                    [ngTemplateOutlet]="field"
                    [ngTemplateOutletContext]="{ data: plant.commonName, label: 'common name' }" />
                <ng-container
                    [ngTemplateOutlet]="field"
                    [ngTemplateOutletContext]="{ data: plant.genus, label: 'genus' }" />
                <ng-container
                    [ngTemplateOutlet]="field"
                    [ngTemplateOutletContext]="{ data: plant.family, label: 'family' }" />
            </mat-tab>
            <mat-tab label="Characteristics">
                <ng-container
                    [ngTemplateOutlet]="field"
                    [ngTemplateOutletContext]="{ data: plant.cycle, label: 'cycle' }" />
                <ng-container
                    [ngTemplateOutlet]="field"
                    [ngTemplateOutletContext]="{ data: plant.description, label: 'description' }" />
                <ng-container
                    [ngTemplateOutlet]="field"
                    [ngTemplateOutletContext]="{
                        data: plant.height.value + plant.height.unit + ' x ' + plant.width.value + plant.width.unit,
                        label: 'size',
                    }" />
                <ng-container
                    [ngTemplateOutlet]="field"
                    [ngTemplateOutletContext]="{ data: plant.layer, label: 'layer' }" />
                <ng-container
                    [ngTemplateOutlet]="field"
                    [ngTemplateOutletContext]="{ data: getAnatomicalParts(), label: 'anatomy (parts)' }" />
            </mat-tab>
            <mat-tab label="Water">
                <ng-container
                    [ngTemplateOutlet]="field"
                    [ngTemplateOutletContext]="{ data: plant.waterRequirement, label: 'requirement' }" />
                <ng-container
                    [ngTemplateOutlet]="field"
                    [ngTemplateOutletContext]="{ data: plant.wateringPeriods, label: 'periods' }" />
                <ng-container
                    [ngTemplateOutlet]="field"
                    [ngTemplateOutletContext]="{
                        data: 'Every ' + plant.waterFrequency.value + ' ' + plant.waterFrequency.unit,
                        label: 'frequency',
                    }" />
            </mat-tab>
            <mat-tab label="Care">
                <ng-container
                    [ngTemplateOutlet]="field"
                    [ngTemplateOutletContext]="{ data: plant.careRequirement, label: 'requirement' }" />
                <ng-container
                    [ngTemplateOutlet]="field"
                    [ngTemplateOutletContext]="{
                        data: plant.hardinessZone.min + '-' + plant.hardinessZone.max,
                        label: 'hardiness zone',
                    }" />
                <ng-container
                    [ngTemplateOutlet]="field"
                    [ngTemplateOutletContext]="{ data: plant.lightRequirement, label: 'light requirement' }" />
                <ng-container
                    [ngTemplateOutlet]="field"
                    [ngTemplateOutletContext]="{
                        data:
                            plant.lightDuration.min + ' - ' + plant.lightDuration.max + ' ' + plant.lightDuration.unit,
                        label: 'light duration',
                    }" />
                <ng-container
                    [ngTemplateOutlet]="field"
                    [ngTemplateOutletContext]="{ data: plant.soilType, label: 'soil type' }" />
            </mat-tab>
            <mat-tab label="Edibility">
                <ng-container
                    [ngTemplateOutlet]="field"
                    [ngTemplateOutletContext]="{ data: plant.edibility.edible ? 'Yes' : 'No', label: 'edible' }" />
                <ng-container
                    [ngTemplateOutlet]="field"
                    [ngTemplateOutletContext]="{ data: plant.edibility.parts, label: 'edible parts' }" />
            </mat-tab>
            <mat-tab label="Toxicity">
                <ng-container
                    [ngTemplateOutlet]="field"
                    [ngTemplateOutletContext]="{ data: plant.toxicity.toxic ? 'Yes' : 'No', label: 'toxic' }" />
                <ng-container
                    [ngTemplateOutlet]="field"
                    [ngTemplateOutletContext]="{ data: plant.toxicity.parts, label: 'parts' }" />
                <ng-container
                    [ngTemplateOutlet]="field"
                    [ngTemplateOutletContext]="{ data: plant.toxicity.organisms, label: 'toxic to' }" />
            </mat-tab>
        </mat-tab-group>
    </swiper-slide>
</swiper-container>

<ng-template
    #field
    let-label="label"
    let-data="data">
    <section>
        <div>
            <span>{{ label | titlecase }}</span>
            <span>{{ data }}</span>
        </div>
    </section>
</ng-template>
